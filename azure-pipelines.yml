# ASP.NET Core
# Build and test ASP.NET Core projects targeting .NET Core.
# Add steps that run tests, create a NuGet package, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core

trigger:
- master

resources:
  containers:
  - container: default_linux_container
    image: wenwen01/preps:ubuntu-sdk-2204

extends:
  template: 1es.yml@self
  parameters:
    pool:
      vmImage: ubuntu-latest
    stages:
    - stage: stage
      jobs:
      - job: Setup
        steps:
        - script: dotnet --version
          displayName: 'Setup'

      - job: LicenseScan
        container: default_linux_container
        dependsOn: Setup
        timeoutInMinutes: 420
        strategy:
          matrix: $[ dependencies.Setup.outputs['GetMatrix.matrix'] ]
        steps:
        - script: dotnet --version
          displayName: 'test'