# ASP.NET Core
# Build and test ASP.NET Core projects targeting .NET Core.
# Add steps that run tests, create a NuGet package, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core

trigger:
- tmp

resources:
  repositories:
  - repository: winniexu01
    type: git
    name: winniexu01/pipelines-dotnet-core
    ref: tmp

extends:
  template: 1es.yml@self
  parameters:
    containers:
      - name: sdk_container
        image: ubuntu:20.04

    stages:
    - stage: stage
      jobs:
      - job: Setup
        steps:
        - script: dotnet --version
          displayName: 'Setup'

      - job: LicenseScan
        container: wenwen01/preps:ubuntu-sdk-2204
        dependsOn: Setup
        timeoutInMinutes: 420
        steps:
        - script: dotnet --version
          displayName: 'test'